{"title":"跳一跳小游戏","date":"2020-04-16T00:00:00.000Z","date_formatted":{"ll":"Apr 16, 2020","L":"04/16/2020","MM-DD":"04-16"},"updated":"2024-07-01T17:57:02.542Z","content":"<p><strong><a href=\"https://www.imooc.com/\" target=\"_blank\">慕课网</a>实战课程笔记 —— <a href=\"https://coding.imooc.com/learn/list/282.html\" target=\"_blank\">three.js打造微信爆款小游戏跳一跳</a></strong></p>\n<h2 id=\"项目需求分析\">项目需求分析<a title=\"#项目需求分析\" href=\"#项目需求分析\"></a></h2>\n<h3 id=\"需求分析\">需求分析<a title=\"#需求分析\" href=\"#需求分析\"></a></h3>\n<h4 id=\"mvp版本需求\">MVP版本需求<a title=\"#mvp版本需求\" href=\"#mvp版本需求\"></a></h4>\n<blockquote>\n<p>实现游戏核心逻辑，满足代码最小可用性<sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup></p>\n</blockquote>\n<p>功能点：</p>\n<ol>\n<li>整体场景的生成设置</li>\n<li>物体的降落逻辑</li>\n<li>bottle的跳跃过程逻辑（物理引擎）</li>\n<li>bottle的跳跃结果逻辑（碰撞检测）</li>\n<li>实现分数+1累计</li>\n<li>分数上传到CloudStorage</li>\n</ol>\n<h4 id=\"动画优化版本需求\">动画优化版本需求<a title=\"#动画优化版本需求\" href=\"#动画优化版本需求\"></a></h4>\n<blockquote>\n<p>该版本实现跳跃动画的优化</p>\n</blockquote>\n<p>功能点：</p>\n<ol>\n<li>降落的弹性</li>\n<li>粒子聚集的效果</li>\n<li>跳跃尾部动态优化</li>\n<li>跳跃失败动画</li>\n<li>物体降落弹性动画</li>\n</ol>\n<h4 id=\"社交优化版本\">社交优化版本<a title=\"#社交优化版本\" href=\"#社交优化版本\"></a></h4>\n<blockquote>\n<p>该版本实现社交相关的优化</p>\n</blockquote>\n<p>功能点：</p>\n<ol>\n<li>分享到微信群</li>\n<li>分享给好友</li>\n<li>增加排行榜</li>\n<li>观战模式</li>\n</ol>\n<h4 id=\"最终完善版本需求\">最终完善版本需求<a title=\"#最终完善版本需求\" href=\"#最终完善版本需求\"></a></h4>\n<blockquote>\n<p>该版本对整体逻辑进行最终优化</p>\n</blockquote>\n<p>功能点：</p>\n<ol>\n<li>增加开始页面</li>\n<li>优化积分策略</li>\n<li>增加音乐效果</li>\n<li>增加block类型</li>\n</ol>\n<h3 id=\"项目结构\">项目结构<a title=\"#项目结构\" href=\"#项目结构\"></a></h3>\n<ul>\n<li>整体项目使用ES6开发</li>\n<li>游戏逻辑使用面向对象进行模块化开发</li>\n<li>通用功能的抽象（动画等）</li>\n<li>游戏整体使用MVC进行控制和管理</li>\n</ul>\n<h3 id=\"版本设计\">版本设计<a title=\"#版本设计\" href=\"#版本设计\"></a></h3>\n<p>MVP版本项目设计</p>\n<ul>\n<li>整体场景的生效设置\n<ul>\n<li>根据最终需要展示的效果，对正交相机，和平行光的位置进行调整，目标明确，但需要调试实践</li>\n</ul>\n</li>\n<li>block降落逻辑\n<ul>\n<li>当游戏init时，currentBlock初始化在场景中渲染，在代码逻辑中生成 nextBlock对象，渲染nextBlock</li>\n<li>当判断bottle跳跃成功时，currentBlock = nextBlock，同时生成一个新的nextBlock，并渲染到场景中</li>\n</ul>\n</li>\n<li>block跳跃逻辑\n<ul>\n<li>当用户按下面板时，bottle开始跳跃，跳跃的过程是水平方向初速度恒定的匀速直线运动加上竖直方向上的竖直上抛运动</li>\n<li>在用户点击跳跃时，不等跳跃动画完成，根据跳跃方向和速度，立即完成碰撞检测，并改变相关状态</li>\n<li>在用户点击跳跃时，物体同时进行旋转</li>\n</ul>\n</li>\n<li>bottle碰撞检测逻辑\n<ul>\n<li>在用户点击跳跃时，不等跳跃动画完成，根据跳跃的方向和速度，立即完成碰撞检测，并改变相关状态</li>\n<li>具体碰撞检测的方式是通过速度和重力加速度数据计算，判断bottle是否还在下一个block上</li>\n</ul>\n</li>\n<li>分数相关\n<ul>\n<li>在用户点击跳跃时，不等跳跃动画完成，根据跳跃的方向和速度，立即完成碰撞检测，并改变相关状态</li>\n<li>具体碰撞检测的方式是通过速度和重力加速度数据计算，判断bottle是否还在下一个block上，如果在，分数加1，否则游戏结束</li>\n<li>当游戏结束时，使用cloudstorage将数据传到微信服务器</li>\n</ul>\n</li>\n</ul>\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>MVP的概念<br>\n最小可行产品 Minimum Viable Product<br>\n基本想法：快速地构建出符合产品预期功能的最小功能集合，这个最小集合所包含的功能足以满足产品部署的要求并能够检验有关客户与产品交互的关键假设。 <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n","link":"dropped/imooc_282","comments":true,"plink":"https://vincenteliang.com/dropped/imooc_282/","toc":[{"id":"项目需求分析","title":"项目需求分析","index":"1","children":[{"id":"需求分析","title":"需求分析","index":"1.1"},{"id":"项目结构","title":"项目结构","index":"1.2"},{"id":"版本设计","title":"版本设计","index":"1.3"}]}],"reward":true,"copyright":{"author":"Vincente Liang","link":"<a href=\"https://vincenteliang.com/dropped/imooc_282/\" title=\"跳一跳小游戏\">https://vincenteliang.com/dropped/imooc_282/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"April 16, 2020","updated":"July 1, 2024"}}